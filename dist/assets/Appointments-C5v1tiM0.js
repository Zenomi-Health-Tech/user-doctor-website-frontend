import{e as I,u as H,a as z,r,j as e,S as J,b as C,c as k}from"./index-BQw1Q4c-.js";import{t as Y}from"./topResultImage-CLm_SyvL.js";import{S as G}from"./sliders-horizontal-Ts7z3d3-.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=I("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),q=["All","Completed","Rescheduled","Rejected","Upcoming"];function K(){const{isDoctor:x,isUser:f}=H(),d=z(),[o,u]=r.useState({previous:[],upcoming:[]}),[A,g]=r.useState(!0),[i,E]=r.useState(""),[l,D]=r.useState("All"),S=t=>{d(`/patients/${t}`)},L=["Start Your Daily Mental Health Check-In","Review Your Recent Test Results","Talk to a Mental Health Expert"];r.useEffect(()=>{if(!x)return;(async()=>{g(!0);try{const s=C.get("auth");let n="";if(s)try{n=JSON.parse(s).token}catch{n=""}const a=await k.get("/doctors/appointments",{headers:{Authorization:`Bearer ${n}`}});a.data.success&&a.data.data&&Array.isArray(a.data.data.previous_appointments)&&Array.isArray(a.data.data.upcoming_appointments)?u({previous:a.data.data.previous_appointments,upcoming:a.data.data.upcoming_appointments}):u({previous:[],upcoming:[]})}catch{u({previous:[],upcoming:[]})}finally{g(!1)}})()},[x]);const b=l==="All"?o.previous.filter(t=>{var s;return((s=t.user)==null?void 0:s.name)&&t.user.name.toLowerCase().includes(i.toLowerCase())}):l==="Completed"?o.previous.filter(t=>{var s;return t.status==="COMPLETED"&&((s=t.user)==null?void 0:s.name)&&t.user.name.toLowerCase().includes(i.toLowerCase())}):l==="Rescheduled"?o.previous.filter(t=>{var s;return t.status==="RESCHEDULED"&&((s=t.user)==null?void 0:s.name)&&t.user.name.toLowerCase().includes(i.toLowerCase())}):l==="Rejected"?o.previous.filter(t=>{var s;return t.status==="REJECTED"&&((s=t.user)==null?void 0:s.name)&&t.user.name.toLowerCase().includes(i.toLowerCase())}):o.upcoming.filter(t=>{var s;return((s=t.user)==null?void 0:s.name)&&t.user.name.toLowerCase().includes(i.toLowerCase())}),T=t=>{const s={year:"numeric",month:"short",day:"numeric"};return new Date(t).toLocaleDateString(void 0,s)},B=t=>new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),[y,h]=r.useState({previous:[],upcoming:[]}),[P,j]=r.useState(!0),[c,w]=r.useState("Upcoming");r.useEffect(()=>{if(!f)return;(async()=>{j(!0);try{const s=C.get("auth");let n="";if(s)try{n=JSON.parse(s).token}catch{n=""}const a=await k.get("/users/get-user-appointments",{headers:{Authorization:`Bearer ${n}`}});console.log(a),a.data.success&&a.data.data&&Array.isArray(a.data.data.previous_appointments)&&Array.isArray(a.data.data.upcoming_appointments)?h({previous:a.data.data.previous_appointments,upcoming:a.data.data.upcoming_appointments}):h({previous:[],upcoming:[]})}catch{h({previous:[],upcoming:[]})}finally{j(!1)}})()},[f]);const v=c==="Upcoming"?y.upcoming:y.previous;return x?e.jsxs("div",{className:"p-8  min-h-screen font-['Poppins']",children:[e.jsx("h1",{className:"text-3xl font-semibold mb-6 text-gray-800",children:"Appointment Details"}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(J,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search your appointments here",className:"w-full py-3 pl-10 pr-4 rounded-full bg-white border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#8B2D6C]",value:i,onChange:t=>E(t.target.value)})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx("button",{onClick:()=>d("/appointments/available-slots"),className:"p-3 rounded-full bg-white border border-gray-200 shadow-sm",children:e.jsx(G,{className:"w-5 h-5 text-gray-500"})}),e.jsx("button",{className:"p-3 rounded-full bg-white border border-gray-200 shadow-sm",onClick:()=>d("/appointments/set-availability"),children:e.jsx(Z,{className:"w-5 h-5 text-gray-500"})})]})]}),e.jsx("div",{className:"flex border-b mb-6",children:q.map(t=>e.jsx("button",{className:`px-4 pb-2 text-lg font-medium focus:outline-none ${l===t?"border-b-2 border-[#8B2D6C] text-[#8B2D6C]":"text-gray-500"}`,onClick:()=>D(t),children:t},t))}),A?e.jsx("div",{className:"flex justify-center items-center h-40 text-xl",children:"Loading appointments..."}):e.jsx("div",{className:"space-y-4",children:b.length>0?b.map(t=>{var s;return e.jsxs("div",{onClick:()=>S(t.userId),className:"bg-white cursor-pointer rounded-2xl p-4 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#8B2D6C1A] flex items-center justify-center text-[#8B2D6C] font-semibold text-lg",children:t.user&&t.user.name?t.user.name.split(" ").map(n=>n[0]).join("").toUpperCase():""}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 text-lg",children:(s=t.user)==null?void 0:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Date: ",T(t.preferredDate)," Time: ",B(t.preferredTime)]})]})]}),t.status==="COMPLETED"&&e.jsx("span",{className:"bg-green-600 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Completed"}),t.status==="UPCOMING"&&e.jsx("span",{className:"bg-yellow-400 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Upcoming"}),t.status==="RESCHEDULED"&&e.jsx("span",{className:"bg-yellow-400 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Rescheduled"}),t.status==="REJECTED"&&e.jsx("span",{className:"bg-red-400 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Rejected"})]},t.id)}):e.jsx("div",{className:"text-center text-gray-500 text-lg mt-10",children:"No appointments found."})})]}):e.jsxs("div",{className:"p-2 sm:p-4 md:p-8 min-h-screen font-['Poppins'] ",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold mb-4 sm:mb-6 text-gray-800",children:"Appointments"}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-8 w-full",children:[e.jsxs("div",{className:"flex-grow w-full max-w-full lg:max-w-[800px] min-w-0",children:[e.jsxs("div",{className:"flex mb-6 sm:mb-8 w-full max-w-xl rounded-full overflow-hidden bg-[#F6EEF3]",style:{height:48},children:[e.jsx("button",{className:`w-1/2 py-3 text-lg font-normal transition-all focus:outline-none ${c==="Upcoming"?"text-white":"text-black"}`,style:c==="Upcoming"?{background:"linear-gradient(90deg, #704180 6.54%, #8B2D6C 90.65%)",borderRadius:"9999px 0 0 9999px"}:{background:"#F6EEF3",borderRadius:"9999px 0 0 9999px"},onClick:()=>w("Upcoming"),children:"Upcoming"}),e.jsx("button",{className:`w-1/2 py-3 text-lg font-normal transition-all focus:outline-none ${c==="Previous"?"text-white":"text-black"}`,style:c==="Previous"?{background:"linear-gradient(90deg, #704180 6.54%, #8B2D6C 90.65%)",borderRadius:"0 9999px 9999px 0"}:{background:"#F6EEF3",borderRadius:"0 9999px 9999px 0"},onClick:()=>w("Previous"),children:"Previous"})]}),P?e.jsx("div",{className:"flex  h-40 text-xl",children:"Loading appointments..."}):v.length===0?e.jsx("div",{className:" text-gray-500 text-lg mt-10",children:"No appointments found."}):e.jsx("div",{className:"space-y-6",children:v.map(t=>{const s=t.doctor.name.split(" ").map(p=>p[0]).join("").toUpperCase(),a=new Date(t.preferredDate).toLocaleDateString(void 0,{weekday:"long",day:"numeric",month:"long"}),m=t.preferredTime.slice(11,16);function R(p){const[O,W]=p.split(":").map(Number),N=new Date(0,0,0,O,W+30,0,0),_=N.getHours().toString().padStart(2,"0"),$=N.getMinutes().toString().padStart(2,"0");return`${_}:${$}`}const U=R(m),M=m,F=U;return e.jsxs("div",{className:"bg-white rounded-2xl border border-[#E5E5E5] shadow-sm p-4 sm:p-6 flex flex-col gap-4 max-w-full sm:max-w-xl ",style:{boxShadow:"0px 2px 12px 0px #0000000A"},children:[e.jsxs("div",{className:"flex items-center gap-4",children:[t.doctor.photoUrl?e.jsx("img",{src:t.doctor.photoUrl,alt:t.doctor.name,className:"w-12 h-12 sm:w-16 sm:h-16 rounded-2xl object-cover bg-[#F8F2F9]"}):e.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center bg-[#F8F2F9] text-[#B06AB3] text-2xl font-bold",style:{fontFamily:"Poppins, sans-serif"},children:s}),e.jsxs("div",{className:"flex flex-col justify-center ml-2",children:[e.jsx("div",{className:"text-lg sm:text-2xl font-bold text-[#1A2343]",style:{fontFamily:"Poppins, sans-serif"},children:t.doctor.name}),e.jsxs("div",{className:"text-base sm:text-lg text-gray-500 font-medium",style:{fontFamily:"Poppins, sans-serif"},children:["Specialist in ",t.doctor.specialization]})]})]}),e.jsx("hr",{className:"my-2 border-[#ECECEC]"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-8 text-gray-700 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("svg",{width:"20",height:"20",fill:"none",stroke:"#1A2343",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"5",width:"16",height:"14",rx:"4"}),e.jsx("path",{d:"M8 3v4M14 3v4"})]}),e.jsx("span",{className:"text-sm sm:text-base font-medium",children:a})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("svg",{width:"20",height:"20",fill:"none",stroke:"#1A2343",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"M11 7v4l2 2"})]}),e.jsxs("span",{className:"text-sm sm:text-base font-medium",children:[M," - ",F]})]})]})]},t.id)})})]}),e.jsxs("div",{className:"w-full lg:w-[350px] flex flex-col gap-4 sm:gap-6 font-['Poppins'] mt-6 lg:mt-0",children:[e.jsxs("div",{className:"bg-white rounded-3xl shadow p-4 sm:p-6 flex flex-col items-center border border-[#BCBCBC]",children:[e.jsx("img",{src:Y,alt:"Therapist",className:"w-36 h-20 sm:w-52 sm:h-32 object-cover rounded-xl mb-3 sm:mb-4"}),e.jsx("div",{className:"font-semibold text-base sm:text-lg mb-1 text-center",children:"Talk to a therapist?"}),e.jsx("div",{className:"text-gray-500 text-center mb-3 sm:mb-4",children:"Book your session now"}),e.jsx("button",{onClick:()=>d("/appointments/set-availability-user"),className:"px-4 sm:px-6 py-2 rounded-full font-medium text-sm sm:text-base text-white",style:{background:"linear-gradient(89.79deg, #704180 5.07%, #8B2D6C 95.83%)"},children:"Book now"})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow p-6 sm:p-8 flex flex-col items-center border border-[#BCBCBC]",children:[e.jsxs("div",{className:"mb-3 sm:mb-4",children:[e.jsxs("svg",{width:"60",height:"60",className:"sm:hidden",children:[e.jsx("circle",{cx:"30",cy:"30",r:"26",stroke:"#E5E0EA",strokeWidth:"6",fill:"none"}),e.jsx("circle",{cx:"30",cy:"30",r:"26",stroke:"#704180",strokeWidth:"6",fill:"none",strokeDasharray:2*Math.PI*26,strokeDashoffset:2*Math.PI*26*(1-0/3),strokeLinecap:"round"}),e.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dy:".3em",fontSize:"0.9em",fill:"#704180",fontWeight:"bold",children:"0/3"})]}),e.jsxs("svg",{width:"80",height:"80",className:"hidden sm:block",children:[e.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#E5E0EA",strokeWidth:"8",fill:"none"}),e.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#704180",strokeWidth:"8",fill:"none",strokeDasharray:2*Math.PI*36,strokeDashoffset:2*Math.PI*36*(1-0/3),strokeLinecap:"round"}),e.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dy:".3em",fontSize:"1.2em",fill:"#704180",fontWeight:"bold",children:"0/3"})]})]}),e.jsxs("h3",{className:"text-base sm:text-lg font-semibold mb-1 sm:mb-2 text-center",children:["Welcome to Zenomi ,",e.jsx("span",{className:"text-[#8B2D6C]",children:"Lily"})]}),e.jsx("p",{className:"text-gray-500 text-center mb-4 sm:mb-6 text-xs sm:text-base",children:"Experience your AHA! moment by completing this simple steps"}),e.jsx("ul",{className:"w-full space-y-2 sm:space-y-3",children:L.map(t=>e.jsxs("li",{className:"flex items-center justify-between px-2 sm:px-4 py-2 rounded-lg bg-gray-100 text-gray-700 text-xs sm:text-base",children:[e.jsx("span",{children:t}),e.jsx("span",{className:"w-5 h-5 sm:w-6 sm:h-6 flex items-center justify-center rounded-full bg-white border border-gray-300 text-gray-400",children:"✔️"})]},t))})]})]})]})]})}const ee=()=>e.jsx(K,{});export{ee as default};
