import{r as u,f as v,a as y,j as e,B as N,d as w}from"./index-DW9InThs.js";import{u as C,L as B,t as S,z as r,C as A}from"./index-BtaEoazN.js";import{B as R,L as E}from"./BackgroundImage-Yw8SgEDY.js";import{P as L}from"./style-DccOr2sR.js";const k=r.object({name:r.string().min(1,"Name is required"),email:r.string().email("Invalid email address"),phoneNumber:r.string().min(10,"Phone number must be at least 10 digits"),gender:r.enum(["MALE","FEMALE","OTHER"]),dob:r.string().min(1,"Date of birth is required"),bloodGroup:r.enum(["A+","A-","B+","B-","AB+","AB-","O+","O-"]),referralCode:r.string().min(1,"Referral code is required")}),O=()=>{const[d,c]=u.useState(!1),{toast:i}=v(),[m,x]=u.useState("+91"),p=y(),{register:t,handleSubmit:g,setValue:h,formState:{errors:s}}=C({resolver:S(k)}),f=(n,o)=>{if(!o.dialCode){i({title:"Error",description:"Invalid country code.",variant:"destructive"});return}const a=n.replace(o.dialCode,""),l=`+${o.dialCode}`;x(l),h("phoneNumber",a)},j=async n=>{var o,a;c(!0);try{const l=await w.post("http://ec2-3-109-123-74.ap-south-1.compute.amazonaws.com:3000/api/v1/users/register-user",{...n,countryCode:m,dob:new Date(n.dob).toISOString()});i({title:"Success",description:"Registration successful!",variant:"default",className:"bg-green-500 text-white"}),l.status===201&&p("/login"),console.log("Success:",l.data)}catch(l){const b=((a=(o=l.response)==null?void 0:o.data)==null?void 0:a.message)||"Registration failed";i({title:"Error",description:b,variant:"destructive"})}finally{c(!1)}};return e.jsxs("form",{onSubmit:g(j),className:"w-full space-y-4 font-['Poppins']",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("input",{...t("name"),type:"text",placeholder:"Full Name",className:"w-full p-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2",style:{"--tw-ring-color":"#704180"}}),s.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.name.message})]}),e.jsxs("div",{children:[e.jsx("input",{...t("email"),type:"email",placeholder:"Email Address",className:"w-full p-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2",style:{"--tw-ring-color":"#704180"}}),s.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.email.message})]}),e.jsxs("div",{children:[e.jsx(L,{country:"in",onlyCountries:["in"],onChange:f,inputStyle:{width:"100%",height:"48px",fontSize:"16px",borderRadius:"12px",border:"1px solid #e2e8f0",backgroundColor:"#ffffff"},containerStyle:{width:"100%"},buttonStyle:{borderRadius:"12px 0 0 12px",border:"1px solid #e2e8f0"}}),s.phoneNumber&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.phoneNumber.message})]}),e.jsxs("div",{children:[e.jsxs("select",{...t("gender"),className:"w-full p-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2",style:{"--tw-ring-color":"#704180"},children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"MALE",children:"Male"}),e.jsx("option",{value:"FEMALE",children:"Female"}),e.jsx("option",{value:"OTHER",children:"Other"})]}),s.gender&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.gender.message})]}),e.jsxs("div",{children:[e.jsx("input",{...t("dob"),type:"date",className:"w-full p-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2",style:{"--tw-ring-color":"#704180"}}),s.dob&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.dob.message})]}),e.jsxs("div",{children:[e.jsxs("select",{...t("bloodGroup"),className:"w-full p-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2",style:{"--tw-ring-color":"#704180"},children:[e.jsx("option",{value:"",children:"Select Blood Group"}),e.jsx("option",{value:"A+",children:"A+"}),e.jsx("option",{value:"A-",children:"A-"}),e.jsx("option",{value:"B+",children:"B+"}),e.jsx("option",{value:"B-",children:"B-"}),e.jsx("option",{value:"AB+",children:"AB+"}),e.jsx("option",{value:"AB-",children:"AB-"}),e.jsx("option",{value:"O+",children:"O+"}),e.jsx("option",{value:"O-",children:"O-"})]}),s.bloodGroup&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.bloodGroup.message})]}),e.jsxs("div",{children:[e.jsx("input",{...t("referralCode"),type:"text",placeholder:"Enter Doctor Referral Code",className:"w-full p-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2",style:{"--tw-ring-color":"#704180"}}),s.referralCode&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.referralCode.message})]})]}),e.jsx(N,{type:"submit",disabled:d,className:"w-full h-12 text-white rounded-xl transition-colors font-medium",style:{background:"linear-gradient(89.79deg, #704180 5.07%, #8B2D6C 95.83%)"},children:d?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(B,{className:"animate-spin h-5 w-5 mr-2"}),e.jsx("span",{children:"Registering..."})]}):"Register"})]})};function M(){return e.jsxs("div",{className:"flex items-center justify-center min-h-screen relative",style:{backgroundImage:`url(${R})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(89.79deg, #704180 5.07%, #8B2D6C 95.83%)",opacity:.9}}),e.jsx("div",{className:"container mx-auto px-4 z-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-center",children:[e.jsx("div",{className:"w-full lg:w-1/2 text-white p-8 rounded-3xl",style:{background:"linear-gradient(89.79deg, #704180 5.07%, #8B2D6C 95.83%)"},children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("img",{src:E,alt:"Logo",className:"w-[160px] h-[163px] mb-8",loading:"lazy"}),e.jsx("h1",{className:"text-4xl font-semibold mb-4",children:"Welcome, Lily!"}),e.jsx("p",{className:"text-lg opacity-90",children:"Let's take your first step toward better mental and physical wellness."})]})}),e.jsx("div",{className:"w-full lg:w-1/2",children:e.jsx(A,{className:"bg-white/95 backdrop-blur-sm rounded-3xl p-8 shadow-xl",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("h2",{className:"text-2xl font-semibold mb-2",children:["Register as ",e.jsx("span",{style:{color:"#704180"},children:"User"})]}),e.jsx("div",{className:"w-full mt-6",children:e.jsx(O,{})})]})})})]})})]})}export{M as default};
