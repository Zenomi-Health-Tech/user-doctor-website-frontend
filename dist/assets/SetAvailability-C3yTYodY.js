import{r as p,j as a,a as h}from"./index-f2NuT0sn.js";import{a as b}from"./api-BGtq2ZBv.js";import"./index-DW_MHI2K.js";const g=["10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","03:30 PM","04:00 PM","04:30 PM","05:00 PM","05:30 PM"];function S(s,d){const[o,l]=d.split(" ");let[e,i]=o.split(":").map(Number);l==="PM"&&e!==12&&(e+=12),l==="AM"&&e===12&&(e=0);const r=new Date(s);return r.setHours(e,i,0,0),r.toISOString()}function x(s,d,o){const[l,e]=d.split(" ");let[i,r]=l.split(":").map(Number);e==="PM"&&i!==12&&(i+=12),e==="AM"&&i===12&&(i=0);const c=new Date(s);return c.setHours(i,r+o,0,0),c.toISOString()}function y(){const[s,d]=p.useState(new Date),[o,l]=p.useState([]),[e,i]=p.useState(!1),r=t=>{l(n=>n.includes(t)?n.filter(m=>m!==t):[...n,t])},c=async()=>{i(!0);const t=h.get("auth");let n="";if(t)try{n=JSON.parse(t).token}catch{n=""}const m=o.map(u=>({startTime:S(s,u),endTime:x(s,u,30)}));await b.post("/doctors/availability",{date:s.toISOString().split("T")[0],timeSlots:m},{headers:{Authorization:`Bearer ${n}`}}),i(!1)};return a.jsxs("div",{className:"p-8 bg-[#FAF8FB] min-h-screen font-['Poppins']",children:[a.jsx("h1",{className:"text-3xl font-semibold mb-6 text-gray-800",children:"Set Availability"}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md w-full max-w-lg mx-auto",children:[a.jsx("div",{className:"mb-6",children:a.jsx("input",{type:"date",className:"text-lg font-semibold mb-2",value:s.toISOString().split("T")[0],onChange:t=>d(new Date(t.target.value))})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Slots Available"}),a.jsx("div",{className:"grid grid-cols-3 gap-4 mb-8",children:g.map(t=>a.jsx("button",{className:`py-2 rounded-full border ${o.includes(t)?"bg-gradient-to-r from-[#8B2D6C] to-[#C6426E] text-white":"bg-white text-gray-700 border-gray-300"}`,onClick:()=>r(t),type:"button",children:t},t))})]}),a.jsx("button",{className:"w-full py-3 rounded-full bg-gradient-to-r from-[#8B2D6C] to-[#C6426E] text-white font-semibold text-lg",onClick:c,disabled:e,children:e?"Setting...":"Set Availability"})]})]})}export{y as default};
