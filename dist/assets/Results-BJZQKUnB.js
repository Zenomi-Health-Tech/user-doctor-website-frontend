import{r as i,a as y,j as e,c as N}from"./index-QGCus7VO.js";import{t as v}from"./topResultImage-CLm_SyvL.js";function w(){const[r,h]=i.useState([]),[f,p]=i.useState(null),u=y();i.useEffect(()=>{async function t(){const a=await N.get("/users/analytics");h(a.data.data)}t()},[]);const j=["Start Your Daily Mental Health Check-In","Review Your Recent Test Results","Talk to a Mental Health Expert"];return e.jsxs("div",{className:"flex gap-8 p-8 bg-gray-50 min-h-screen ",children:[e.jsx("div",{className:"flex-1 max-w-[700px] font-['Urbanist'] flex flex-col",children:r.length===0?e.jsx("div",{children:"No results found."}):r.map(t=>{var c,o,d,x,m;const a=[{label:"Sleep",value:(c=t.normalizedScores)==null?void 0:c.Sleep},{label:"Nutrition",value:(o=t.normalizedScores)==null?void 0:o.Nutrition},{label:"PHQ-9",value:(d=t.normalizedScores)==null?void 0:d["PHQ-9"]},{label:"Emotional-H",value:(x=t.normalizedScores)==null?void 0:x["Emotional Intelligence"]},{label:"GAD-7",value:(m=t.normalizedScores)==null?void 0:m["GAD-7"]}],g=new Date(t.updatedAt).toLocaleDateString(),b=t.testsCompleted,n=f===t.id;return e.jsxs("div",{className:"mb-6 border rounded-2xl bg-white shadow-sm",children:[e.jsxs("button",{className:"w-full flex justify-between items-center px-6 py-4 text-left focus:outline-none",onClick:()=>p(n?null:t.id),children:[e.jsxs("span",{className:"font-semibold text-lg",children:["Cycle ",t.cycle]}),e.jsxs("span",{className:"text-gray-500 text-sm",children:["Last Updated: ",g]}),e.jsx("span",{className:"ml-4 text-2xl",children:n?"▲":"▼"})]}),n&&e.jsxs("div",{className:"px-6 pb-6 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxs("span",{className:"text-base font-medium",children:[b," of 3 tests completed"]}),e.jsx("span",{className:"w-6 h-6 flex items-center justify-center rounded-full bg-[#4E8041] text-white text-lg",children:"✔"}),e.jsx("span",{className:"w-6 h-6 flex items-center justify-center rounded-full bg-[#4E8041] text-white text-lg",children:"✔"}),e.jsx("span",{className:"w-6 h-6 flex items-center justify-center rounded-full bg-gray-200 text-gray-400 text-lg",children:"✔"})]}),e.jsx("div",{className:"rounded-2xl p-6 mb-6 min-h-[400px] flex items-center justify-center",style:{boxShadow:"0px 6.58px 6.58px 0px #00000040"},children:e.jsxs("svg",{width:"700",height:"400",viewBox:"0 0 700 400",children:[[0,2,4,6,8,10].map(s=>e.jsx("line",{x1:60,x2:660,y1:360-s*32,y2:360-s*32,stroke:"#E5E0EA",strokeWidth:1},s)),a.map((s,l)=>e.jsxs("g",{children:[e.jsx("rect",{x:90+l*110,y:360-(s.value??0)*32,width:60,height:(s.value??0)*32,rx:18,fill:"url(#barGradient)"}),e.jsx("text",{x:120+l*110,y:360-(s.value??0)*32-16,textAnchor:"middle",fontSize:"22",fill:"#704180",fontWeight:"bold",children:(s.value??0)>0?s.value:""}),e.jsx("text",{x:120+l*110,y:390,textAnchor:"middle",fontSize:"20",fill:"#231942",fontWeight:"400",children:s.label})]},s.label)),[0,2,4,6,8,10].map(s=>e.jsx("text",{x:50,y:360-s*32+10,fontSize:"18",fill:"#231942",textAnchor:"end",fontWeight:"600",children:s<10?`0${s}`:s},s)),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[e.jsx("stop",{offset:"5%",stopColor:"#704180"}),e.jsx("stop",{offset:"95%",stopColor:"#8B2D6C"})]})})]})}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Recommended Courses"}),e.jsx("div",{className:"flex flex-col gap-3",children:t.courseRecommendations&&t.courseRecommendations.length>0?t.courseRecommendations.map((s,l)=>e.jsx("div",{className:"flex items-center bg-white rounded-xl shadow p-4 max-w-lg border border-gray-100",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-base mb-1",children:s.courseName}),e.jsx("div",{className:"text-gray-500 text-sm mb-1 flex items-center gap-2",children:e.jsx("a",{href:s.courseLink.split(",")[0],target:"_blank",rel:"noopener noreferrer",className:"text-[#704180] font-semibold text-sm underline",children:"Go to Course"})})]})},l)):e.jsx("div",{className:"text-gray-500",children:"No course recommendations."})})]})]})]},t.id)})}),e.jsxs("div",{className:"w-[350px] flex flex-col gap-6 font-['Poppins']",children:[e.jsxs("div",{className:"bg-white rounded-3xl shadow p-6 flex flex-col items-center border border-[#BCBCBC]",children:[e.jsx("img",{src:v,alt:"Therapist",className:"w-52 h-32 object-cover rounded-xl mb-4"}),e.jsx("div",{className:"font-semibold text-lg mb-1 text-center",children:"Talk to a therapist?"}),e.jsx("div",{className:"text-gray-500 text-center mb-4",children:"Book your session now"}),e.jsx("button",{onClick:()=>u("/appointments/set-availability-user"),className:"px-6 py-2 rounded-full font-medium text-base text-white",style:{background:"linear-gradient(89.79deg, #704180 5.07%, #8B2D6C 95.83%)"},children:"Book now"})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow p-8 flex flex-col items-center border border-[#BCBCBC]",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("svg",{width:"80",height:"80",children:[e.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#E5E0EA",strokeWidth:"8",fill:"none"}),e.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#704180",strokeWidth:"8",fill:"none",strokeDasharray:2*Math.PI*36,strokeDashoffset:2*Math.PI*36*(1-0/3),strokeLinecap:"round"}),e.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dy:".3em",fontSize:"1.2em",fill:"#704180",fontWeight:"bold",children:"0/3"})]})}),e.jsxs("h3",{className:"text-lg font-semibold mb-2 text-center",children:["Welcome to Zenomi ,",e.jsx("span",{className:"text-[#8B2D6C]",children:"Lily"})]}),e.jsx("p",{className:"text-gray-500 text-center mb-6",children:"Experience your AHA! moment by completing this simple steps"}),e.jsx("ul",{className:"w-full space-y-3",children:j.map(t=>e.jsxs("li",{className:"flex items-center justify-between px-4 py-2 rounded-lg bg-gray-100 text-gray-700",children:[e.jsx("span",{children:t}),e.jsx("span",{className:"w-6 h-6 flex items-center justify-center rounded-full bg-white border border-gray-300 text-gray-400",children:"✔️"})]},t))})]})]})]})}const S=()=>e.jsx(w,{});export{S as default};
