import{r,b as p,j as e,S as g,a as j}from"./index-BBXWyxbE.js";import{a as y}from"./api-B4tLyQN4.js";import{S as w}from"./sliders-horizontal-C2mzcc5t.js";import{A as N}from"./arrow-right-Bf4d8h6p.js";import"./index-DW_MHI2K.js";const D=()=>{const[l,d]=r.useState([]),[m,o]=r.useState(!0),[i,f]=r.useState(""),h=p();r.useEffect(()=>{(async()=>{o(!0);try{const s=j.get("auth");let a="";if(s)try{a=JSON.parse(s).token}catch{a=""}const n=await y.get("/doctors/referred-patients",{headers:{Authorization:`Bearer ${a}`}});n.data.success?d(n.data.data):console.error("Failed to fetch referred patients:",n.data)}catch(s){console.error("Error fetching referred patients:",s)}finally{o(!1)}})()},[]);const u=t=>{h(`/patients/${t}`)},c=l.filter(t=>t.name.toLowerCase().includes(i.toLowerCase())),x=t=>{const s={year:"numeric",month:"short",day:"numeric"};return new Date(t).toLocaleDateString(void 0,s)};return m?e.jsx("div",{className:"flex justify-center items-center h-screen text-xl",children:"Loading referred patients..."}):e.jsxs("div",{className:"p-8 bg-[#FAF8FB] min-h-screen font-['Poppins']",children:[e.jsx("h1",{className:"text-3xl font-semibold mb-6 text-gray-800",children:"Referred Patients"}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(g,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search your referred patients here",className:"w-full py-3 pl-10 pr-4 rounded-full bg-white border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#8B2D6C]",value:i,onChange:t=>f(t.target.value)})]}),e.jsx("button",{className:"p-3 rounded-full bg-white border border-gray-200 shadow-sm ml-4",children:e.jsx(w,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"space-y-4",children:c.length>0?c.map(t=>e.jsxs("div",{className:"bg-white rounded-2xl p-4 flex items-center justify-between shadow-sm cursor-pointer hover:shadow-md transition-shadow duration-200",onClick:()=>u(t.id),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[t.profilePicture?e.jsx("img",{src:t.profilePicture,alt:t.name,className:"w-12 h-12 rounded-full object-cover"}):e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#8B2D6C1A] flex items-center justify-center text-[#8B2D6C] font-semibold text-lg",children:t.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 text-lg",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Treated on ",x(t.claimedAt)]})]})]}),e.jsx(N,{className:"w-5 h-5 text-gray-500"})]},t.id)):e.jsx("div",{className:"text-center text-gray-500 text-lg mt-10",children:"No referred patients found."})})]})};export{D as default};
