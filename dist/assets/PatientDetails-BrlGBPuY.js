import{c as m,k as u,r as o,j as e,S as f,L as g,a as j}from"./index-BBXWyxbE.js";import{a as y}from"./api-B4tLyQN4.js";import{S as N}from"./sliders-horizontal-C2mzcc5t.js";import{A as w}from"./arrow-right-Bf4d8h6p.js";import"./index-DW_MHI2K.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=m("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=m("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),B=()=>{const{id:r}=u(),[a,n]=o.useState(null),[x,i]=o.useState(!0);o.useEffect(()=>{(async()=>{i(!0);try{const t=j.get("auth");let l="";if(t)try{l=JSON.parse(t).token}catch{l=""}if(!r){console.error("Patient ID is missing."),i(!1);return}const c=await y.get(`/doctors/user?userId=${r}`,{headers:{Authorization:`Bearer ${l}`}});c.data.success?n(c.data.data):(console.error("Failed to fetch patient details:",c.data),n(null))}catch(t){console.error("Error fetching patient details:",t),n(null)}finally{i(!1)}})()},[r]);const h=s=>{const t={year:"numeric",month:"short",day:"numeric"};return new Date(s).toLocaleDateString(void 0,t)},d=[{name:"Calm sleep routine",duration:"5 days . 10 min/day",icon:"/path/to/sleep-icon.png"}],p=[{name:"Meditation Marathon",assignedDate:"27 April 2025",icon:"/path/to/meditation-icon.png"}];return x?e.jsx("div",{className:"flex justify-center items-center h-screen text-xl",children:"Loading patient details..."}):a?e.jsxs("div",{className:"p-8 bg-[#FAF8FB] min-h-screen font-['Poppins']",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6 shadow-sm",children:[e.jsx("h1",{className:"text-3xl font-semibold mb-6 text-gray-800",children:"Patient Details"}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("div",{className:"relative flex-1 max-w-md",children:e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(f,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search your patients here",className:"w-full py-3 pl-10 pr-4 rounded-full bg-white border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#8B2D6C]"})]})}),e.jsx("button",{className:"p-3 rounded-full bg-white border border-gray-200 shadow-sm ml-4",children:e.jsx(N,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-4 flex items-center justify-between shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#8B2D6C1A] flex items-center justify-center text-[#8B2D6C] font-semibold text-lg",children:a.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 text-lg",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Treated on ",h(a.updatedAt)]})]})]}),e.jsx("span",{className:"bg-[#A9F2001A] text-[#A9F200] px-4 py-1 rounded-full text-sm font-medium",children:"Completed"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Tests done (",a.tests.length,")"]}),e.jsxs(g,{to:"#",className:"text-[#8B2D6C] font-medium flex items-center",children:["View Reports ",e.jsx(w,{className:"w-4 h-4 ml-1"})]})]}),e.jsx("div",{className:"space-y-4",children:a.tests.map(s=>e.jsxs("div",{className:"bg-[#FBF9FF] rounded-2xl p-4 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:`/assets/${s.rawScores&&Object.keys(s.rawScores).length>0?Object.keys(s.rawScores)[0].toLowerCase().replace(" ","-"):"default"}-icon.png`,alt:"Test Icon",className:"w-10 h-10"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:Object.keys(s.rawScores)[0]||"Test Name"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Score ",s.rawScores?Object.values(s.rawScores)[0]:"N/A"," /10"]})]})]}),e.jsx(b,{className:"w-5 h-5 text-gray-500"})," "]},s.id))})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6 shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:["Zenomi AI course recommendation (",d.length,")"]}),e.jsx("div",{className:"space-y-4",children:d.map((s,t)=>e.jsxs("div",{className:"bg-[#FBF9FF] rounded-2xl p-4 flex items-center gap-4 shadow-sm",children:[e.jsx("img",{src:s.icon,alt:s.name,className:"w-10 h-10"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:s.name}),s.duration&&e.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(v,{className:"w-4 h-4 mr-1"})," ",s.duration]})]})]},t))})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Courses recommended by doctor"}),e.jsx("div",{className:"space-y-4",children:p.map((s,t)=>e.jsxs("div",{className:"bg-[#FBF9FF] rounded-2xl p-4 flex items-center gap-4 shadow-sm",children:[e.jsx("img",{src:s.icon,alt:s.name,className:"w-10 h-10"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:s.name}),s.assignedDate&&e.jsxs("p",{className:"text-sm text-gray-500",children:["Assigned on ",s.assignedDate]})]})]},t))})]})]}):e.jsx("div",{className:"flex justify-center items-center h-screen text-xl text-red-600",children:"Patient not found or an error occurred."})};export{B as default};
