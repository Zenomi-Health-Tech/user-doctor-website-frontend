import{u as g,r as b,j as e,B as j,e as y,L as N,f as v}from"./index-CWxa_91Z.js";import{C as P,c as C}from"./card-D8ZZsheq.js";import{u as S,L as w,t as k,z as m}from"./index-A7bHfbOT.js";import{u as a,h as L}from"./store-SP_n7ALW.js";import{P as B}from"./style-BX-YkkFx.js";import{B as E}from"./bgLogo-Dy-B3ocO.js";import"./api-DM17oJ_R.js";const O=m.object({phoneNumber:m.string().min(10,"Phone number must be at least 10 digits").max(10,"Phone number must be exactly 10 digits")}),R=({onSuccess:n})=>{const{handleSubmit:r,setValue:i,formState:{errors:c}}=S({resolver:k(O)}),p=a(s=>s.userRequestOtp),l=a(s=>s.loading),d=a(s=>s.updatePhoneDetails),{toast:o}=g(),x=async()=>{try{await p(),o({title:"Success",description:"OTP sent successfully",variant:"default",className:"bg-green-500 text-white"}),n()}catch(s){const t=L(s);o({title:"Error",description:t,variant:"destructive"})}},h=b.useCallback((s,t)=>{if(!t.dialCode){o({title:"Error",description:"Invalid country code.",variant:"destructive"});return}const u=s.replace(t.dialCode,""),f=`+${t.dialCode}`;d(f,u),i("phoneNumber",u)},[i,d,o]);return e.jsxs("form",{onSubmit:r(x),className:"w-full space-y-6 font-['Poppins']",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-2 font-['Poppins']",children:"Sign in to your Account"}),e.jsx("p",{className:"text-gray-600 font-['Poppins']",children:"Enter your mobile number to get started"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(B,{country:"in",onlyCountries:["in"],onChange:h,inputStyle:{width:"100%",height:"48px",fontSize:"16px",borderRadius:"12px",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",fontFamily:"Poppins, sans-serif"},containerStyle:{width:"100%"},buttonStyle:{borderRadius:"12px 0 0 12px",border:"1px solid #e2e8f0",fontFamily:"Poppins, sans-serif"}}),c.phoneNumber&&e.jsx("p",{className:"text-red-500 text-sm text-center font-['Poppins']",children:c.phoneNumber.message})]}),e.jsx(j,{type:"submit",disabled:l,className:"w-full cursor-pointer h-12 text-white rounded-xl transition-colors font-['Poppins']",style:{background:"linear-gradient(89.79deg, #704180 5.07%, #8B2D6C 95.83%)"},children:l?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(w,{className:"animate-spin h-5 w-5 mr-2"}),e.jsx("span",{className:"font-['Poppins']",children:"Sending OTP..."})]}):"Send OTP"})]})},$=()=>{const n=y(),r=()=>{console.log("OTP sent successfully!"),n("/user/login/otp")};return e.jsxs("div",{className:"flex items-center justify-center min-h-screen relative",style:{backgroundImage:`url(${E})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0"}),e.jsx(P,{className:"bg-white/95 backdrop-blur-sm rounded-3xl w-[539px] h-[500px] shadow-xl z-10",children:e.jsxs("div",{className:"w-96 mt-10 mx-auto flex flex-col items-center",children:[e.jsx("img",{src:N,alt:"logo",loading:"lazy"}),e.jsx("div",{children:e.jsx(R,{onSuccess:r})}),e.jsxs(C,{className:"mt-4 font-light text-gray-700",children:["Don't have an account?",e.jsx(v,{to:"/user/register",children:e.jsx("span",{className:"text-[#8B2D6C] ml-1 hover:text-purple-700 transition-colors",children:"Create one"})})]})]})})]})};export{$ as default};
