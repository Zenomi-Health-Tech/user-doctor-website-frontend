import{r,a as y,u as N,j as e,c as k}from"./index-1Hvr9aaJ.js";import{t as C}from"./topResultImage-CLm_SyvL.js";const E="data:image/svg+xml,%3csvg%20width='10'%20height='8'%20viewBox='0%200%2010%208'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3.57994%207.57961C3.37994%207.57961%203.18994%207.49961%203.04994%207.35961L0.219941%204.52961C-0.0700586%204.23961%20-0.0700586%203.75961%200.219941%203.46961C0.509941%203.17961%200.989941%203.17961%201.27994%203.46961L3.57994%205.76961L8.71994%200.629609C9.00994%200.339609%209.48994%200.339609%209.77994%200.629609C10.0699%200.919609%2010.0699%201.39961%209.77994%201.68961L4.10994%207.35961C3.96994%207.49961%203.77994%207.57961%203.57994%207.57961Z'%20fill='white'/%3e%3c/svg%3e";function A(){const[i,p]=r.useState([]),[g,u]=r.useState(null),j=y(),{userName:b}=N();r.useEffect(()=>{async function s(){const n=await k.get("/users/analytics");p(n.data.data)}s()},[]),console.log(i);const w=["Start Your Daily Mental Health Check-In","Review Your Recent Test Results","Talk to a Mental Health Expert"];return e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-8 p-2 sm:p-4 md:p-8 bg-gray-50 min-h-screen ",children:[e.jsx("div",{className:"flex-1 w-full max-w-full lg:max-w-[700px] font-['Urbanist'] flex flex-col",children:i.length===0?e.jsx("div",{children:"No results found."}):i.map(s=>{var x,m,d,h,f;let n=[{label:"Sleep",value:(x=s.normalizedScores)==null?void 0:x.Sleep},{label:"Nutrition",value:(m=s.normalizedScores)==null?void 0:m.Nutrition},{label:"PHQ-9",value:(d=s.normalizedScores)==null?void 0:d["PHQ-9"]},{label:"Emotional-H",value:(h=s.normalizedScores)==null?void 0:h["Emotional Fitness"]},{label:"GAD-7",value:(f=s.normalizedScores)==null?void 0:f["GAD-7"]}];n=n.map(t=>({...t,value:typeof t.value=="number"?t.value:0}));const v=new Date(s.updatedAt).toLocaleDateString(),c=s.testsCompleted,o=g===s.id;return e.jsxs("div",{className:"mb-4 sm:mb-6 border rounded-2xl bg-white shadow-sm",children:[e.jsxs("button",{className:"w-full flex flex-col sm:flex-row justify-between items-start sm:items-center px-4 sm:px-6 py-3 sm:py-4 text-left focus:outline-none",onClick:()=>u(o?null:s.id),children:[e.jsxs("span",{className:"font-semibold text-base sm:text-lg",children:["Cycle ",s.cycle]}),e.jsxs("span",{className:"text-gray-500 text-xs sm:text-sm mt-1 sm:mt-0",children:["Last Updated: ",v]}),e.jsx("span",{className:"ml-0 sm:ml-4 text-lg sm:text-2xl",children:o?"▲":"▼"})]}),o&&e.jsxs("div",{className:"px-2 sm:px-6 pb-4 sm:pb-6 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[e.jsxs("span",{className:"text-sm sm:text-base font-medium",children:[c," of 5 tests completed"]}),Array.from({length:5}).map((t,l)=>e.jsx("span",{className:`w-5 h-5 sm:w-6 sm:h-6 flex items-center justify-center rounded-full text-base sm:text-lg ${l<c?"bg-[#4E8041] text-white":"bg-gray-200 text-gray-400"}`,children:e.jsx("img",{src:E,alt:"tickmark"})},l))]}),e.jsx("div",{className:"rounded-2xl p-2 sm:p-6 mb-4 sm:mb-6 min-h-[220px] sm:min-h-[400px] flex items-center justify-center overflow-x-auto",children:e.jsxs("div",{className:"w-[420px] sm:w-[700px]",children:[e.jsxs("svg",{width:"100%",height:"220",viewBox:"0 0 700 220",className:"hidden sm:block",children:[[0,20,40,60,80,100].map(t=>e.jsx("line",{x1:60,x2:660,y1:200-t*2,y2:200-t*2,stroke:"#E5E0EA",strokeWidth:1},t)),n.map((t,l)=>{let a="#4E8041";return t.value>60?a="#E74C3C":t.value>40&&(a="#F6C851"),e.jsxs("g",{children:[e.jsx("rect",{x:90+l*110,y:200-t.value*2,width:40,height:t.value*2,rx:12,fill:a}),e.jsx("text",{x:120+l*110,y:200-t.value*2-10,textAnchor:"middle",fontSize:"16",fill:"#704180",fontWeight:"bold"}),e.jsx("text",{x:110+l*110,y:220,textAnchor:"middle",fontSize:"14",fill:"#231942",fontWeight:"400",children:t.label})]},t.label)}),[0,20,40,60,80,100].map(t=>e.jsx("text",{x:50,y:200-t*2+8,fontSize:"12",fill:"#231942",textAnchor:"end",fontWeight:"600",children:t<10?`0${t}`:t},t))]}),e.jsxs("svg",{width:"100%",height:"160",viewBox:"0 0 420 160",className:"block sm:hidden",children:[[0,20,40,60,80,100].map(t=>e.jsx("line",{x1:40,x2:400,y1:140-t*1.2,y2:140-t*1.2,stroke:"#E5E0EA",strokeWidth:1},t)),n.map((t,l)=>{let a="#4E8041";return t.value>60?a="#E74C3C":t.value>40&&(a="#F6C851"),e.jsxs("g",{children:[e.jsx("rect",{x:60+l*70,y:140-t.value*1.2,width:36,height:t.value*1.2,rx:8,fill:a}),e.jsx("text",{x:78+l*70,y:140-t.value*1.2-6,textAnchor:"middle",fontSize:"10",fill:"#704180",fontWeight:"bold",children:t.value>0?Math.round(t.value):""}),e.jsx("text",{x:78+l*70,y:158,textAnchor:"middle",fontSize:"10",fill:"#231942",fontWeight:"400",children:t.label})]},t.label)}),[0,20,40,60,80,100].map(t=>e.jsx("text",{x:32,y:140-t*1.2+5,fontSize:"9",fill:"#231942",textAnchor:"end",fontWeight:"600",children:t<10?`0${t}`:t},t))]})]})}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:e.jsx("a",{href:s.reportView,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-2 rounded-full bg-gradient-to-r from-[#704180] to-[#8B2D6C] text-white font-semibold text-base shadow hover:opacity-90 transition text-center",children:"Download Summary Report"})})]})]},s.id)})}),e.jsxs("div",{className:"w-full lg:w-[350px] flex flex-col gap-4 sm:gap-6 font-['Poppins'] mt-4 lg:mt-0",children:[e.jsxs("div",{className:"bg-white rounded-3xl shadow p-4 sm:p-6 flex flex-col items-center border border-[#BCBCBC]",children:[e.jsx("img",{src:C,alt:"Doctor",className:"w-36 h-20 sm:w-52 sm:h-32 object-cover rounded-xl mb-3 sm:mb-4"}),e.jsx("div",{className:"font-semibold text-base sm:text-lg mb-1 text-center",children:"Talk to a Doctor?"}),e.jsx("div",{className:"text-gray-500 text-center mb-3 sm:mb-4",children:"Book your session now"}),e.jsx("button",{onClick:()=>j("/appointments"),className:"px-4 sm:px-6 py-2 rounded-full font-medium text-sm sm:text-base text-white",style:{background:"linear-gradient(89.79deg, #704180 5.07%, #8B2D6C 95.83%)"},children:"Book now"})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow p-6 sm:p-8 flex flex-col items-center border border-[#BCBCBC]",children:[e.jsxs("div",{className:"mb-3 sm:mb-4",children:[e.jsxs("svg",{width:"60",height:"60",className:"sm:hidden",children:[e.jsx("circle",{cx:"30",cy:"30",r:"26",stroke:"#E5E0EA",strokeWidth:"6",fill:"none"}),e.jsx("circle",{cx:"30",cy:"30",r:"26",stroke:"#704180",strokeWidth:"6",fill:"none",strokeDasharray:2*Math.PI*26,strokeDashoffset:2*Math.PI*26*(1-0/3),strokeLinecap:"round"}),e.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dy:".3em",fontSize:"0.9em",fill:"#704180",fontWeight:"bold",children:"0/3"})]}),e.jsxs("svg",{width:"80",height:"80",className:"hidden sm:block",children:[e.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#E5E0EA",strokeWidth:"8",fill:"none"}),e.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#704180",strokeWidth:"8",fill:"none",strokeDasharray:2*Math.PI*36,strokeDashoffset:2*Math.PI*36*(1-0/3),strokeLinecap:"round"}),e.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dy:".3em",fontSize:"1.2em",fill:"#704180",fontWeight:"bold",children:"0/3"})]})]}),e.jsxs("h3",{className:"text-base sm:text-lg font-semibold mb-1 sm:mb-2 text-center",children:["Welcome to Zenomi ,",e.jsx("span",{className:"text-[#8B2D6C]",children:b||"there"})]}),e.jsx("p",{className:"text-gray-500 text-center mb-4 sm:mb-6 text-xs sm:text-base",children:"Experience your AHA! moment by completing this simple steps"}),e.jsx("ul",{className:"w-full space-y-2 sm:space-y-3",children:w.map(s=>e.jsxs("li",{className:"flex items-center justify-between px-2 sm:px-4 py-2 rounded-lg bg-gray-100 text-gray-700 text-xs sm:text-base",children:[e.jsx("span",{children:s}),e.jsx("span",{className:"w-5 h-5 sm:w-6 sm:h-6 flex items-center justify-center rounded-full bg-white border border-gray-300 text-gray-400",children:"✔️"})]},s))})]})]})]})}const W=()=>e.jsx(A,{});export{W as default};
