import{r as o,u as w,a as C,j as e,b as p,c as u}from"./index-Rk6L4tHA.js";function F(){const[s,x]=o.useState(null),[y,g]=o.useState(!0),{isDoctor:a}=w(),j=C(),[l,h]=o.useState(!1),[r,m]=o.useState(null);o.useEffect(()=>{(async()=>{g(!0);const n=p.get("auth");let c="";if(n)try{c=JSON.parse(n).token}catch{c=""}if(a){const d=await u.get("/doctors/profile",{headers:{Authorization:`Bearer ${c}`}});x(d.data.data)}else{const d=await u.get("/users/profile",{headers:{Authorization:`Bearer ${c}`}});x(d.data.data)}g(!1)})()},[]),o.useEffect(()=>{s&&!a&&m(s)},[s,a]);const f=()=>{p.remove("auth"),j("/chooserole")},b=()=>h(!0),v=()=>h(!1),i=t=>{m(n=>n&&{...n,[t.target.name]:t.target.value})},N=async()=>{try{let t=r;r&&r.dob&&typeof r.dob!="string"&&(t={...r,dob:new Date(r.dob).toISOString().split("T")[0]}),await u.put("/users/profile",t),x(t),h(!1)}catch{}};if(y)return e.jsx("div",{className:"flex justify-center items-center min-h-screen ",children:e.jsx("div",{className:"text-xl",children:"Loading profile..."})});if(!s)return e.jsx("div",{className:"flex justify-center items-center min-h-screen ",children:e.jsx("div",{className:"text-xl text-red-500",children:"Profile not found."})});if(a){const t=s;return e.jsx("div",{className:"min-h-screen flex items-center justify-center font-['Poppins']",children:e.jsxs("div",{className:"w-full max-w-5xl min-h-[80vh] bg-white rounded-2xl shadow-lg flex overflow-hidden border border-[#F2EAF6]",children:[e.jsxs("aside",{className:"w-72 border-r border-[#F2EAF6] flex flex-col py-8 px-6",children:[e.jsx("div",{className:"text-xl font-semibold mb-8",children:"My profile"}),e.jsxs("nav",{className:"flex-1 flex flex-col gap-2",children:[e.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[#F8F2F9] text-[#8B2D6C] font-medium border-l-4 border-[#8B2D6C]",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:e.jsx("circle",{cx:"10",cy:"10",r:"8"})}),"Personal Information"]}),e.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-[#F8F2F9] transition",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:e.jsx("circle",{cx:"10",cy:"10",r:"8"})}),"About Us"]}),e.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-[#F8F2F9] transition",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:e.jsx("circle",{cx:"10",cy:"10",r:"8"})}),"Terms & Conditions"]}),e.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-[#F8F2F9] transition",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:e.jsx("circle",{cx:"10",cy:"10",r:"8"})}),"My plans"]}),e.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-[#F8F2F9] transition",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:e.jsx("circle",{cx:"10",cy:"10",r:"8"})}),"Privacy Policy"]}),e.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-[#F8F2F9] transition",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:e.jsx("circle",{cx:"10",cy:"10",r:"8"})}),"Report an issue"]})]}),e.jsxs("button",{onClick:f,className:"flex items-center gap-2 mt-8 text-[#E11D48] font-medium hover:underline",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"",children:e.jsx("path",{d:"M15 12l4-4m0 0l-4-4m4 4H7m6 4v1a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h6a2 2 0 012 2v1"})}),"Logout"]})]}),e.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center py-12 px-8",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8 relative",children:[t.profilePicture?e.jsx("img",{src:t.profilePicture,alt:t.name,className:"w-20 h-20 rounded-full object-cover bg-[#F8F2F9] mb-2"}):e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-r from-[#8B2D6C] to-[#C6426E] flex items-center justify-center text-white text-3xl font-bold mb-2",children:t.name.charAt(0)}),e.jsxs("div",{className:"text-2xl font-bold text-[#1A2343] mt-2",children:["Dr.",t.name]}),e.jsxs("div",{className:"text-gray-500 text-base",children:[t.countryCode," ",t.phoneNumber]})]}),e.jsxs("form",{className:"w-full max-w-lg flex flex-col gap-5",children:[e.jsx("input",{className:"w-full rounded-lg px-4 py-3 text-gray-700 placeholder-gray-400 border-0 focus:ring-2 focus:ring-[#8B2D6C] focus:outline-none",name:"name",value:t.name||"",placeholder:"Name*",readOnly:!0}),e.jsx("input",{className:"w-full rounded-lg px-4 py-3 text-gray-700 placeholder-gray-400 border-0 focus:ring-2 focus:ring-[#8B2D6C] focus:outline-none",name:"email",value:t.email||"",placeholder:"Email Address*",readOnly:!0}),e.jsxs("select",{className:"w-full rounded-lg px-4 py-3 text-gray-700 placeholder-gray-400 border-0 focus:ring-2 focus:ring-[#8B2D6C] focus:outline-none appearance-none",name:"gender",value:t.gender||"",disabled:!0,children:[e.jsx("option",{value:"",children:"Gender"}),e.jsx("option",{value:"MALE",children:"Male"}),e.jsx("option",{value:"FEMALE",children:"Female"}),e.jsx("option",{value:"OTHER",children:"Other"})]}),e.jsx("input",{className:"w-full rounded-lg px-4 py-3 text-gray-700 placeholder-gray-400 border-0 focus:ring-2 focus:ring-[#8B2D6C] focus:outline-none",name:"phoneNumber",value:t.phoneNumber||"",placeholder:"Phone Number*",readOnly:!0}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"w-full rounded-lg px-4 py-3 text-gray-700 placeholder-gray-400 border-0 focus:ring-2 focus:ring-[#8B2D6C] focus:outline-none pr-12",name:"dob",type:"date",value:t.createdAt?new Date(t.createdAt).toISOString().split("T")[0]:"",placeholder:"Date of Birth*",readOnly:!0}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:e.jsxs("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"7",width:"14",height:"10",rx:"2"}),e.jsx("path",{d:"M16 3v4M4 3v4"})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"w-full rounded-lg px-4 py-3 text-gray-700 placeholder-gray-400 border-0 focus:ring-2 focus:ring-[#8B2D6C] focus:outline-none pr-12",name:"govtId",value:t.govtIdUrl?"Uploaded":"",placeholder:"Government ID",readOnly:!0}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:e.jsxs("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),e.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1"})]})})]}),e.jsx("button",{type:"button",className:"w-full mt-4 py-3 rounded-full bg-gradient-to-r from-[#8B2D6C] to-[#C6426E] text-white font-semibold text-lg shadow hover:opacity-90 transition",children:"Next"})]})]})]})})}else if(!a){const t=s;return e.jsx("div",{className:"min-h-screen  flex items-center justify-center font-['Poppins']",children:e.jsxs("div",{className:"w-full max-w-5xl min-h-[80vh] bg-white rounded-2xl shadow-lg flex overflow-hidden border border-[#F2EAF6]",children:[e.jsxs("aside",{className:"w-72  border-r border-[#F2EAF6] flex flex-col py-8 px-6",children:[e.jsx("div",{className:"text-xl font-semibold mb-8",children:"My profile"}),e.jsxs("nav",{className:"flex-1 flex flex-col gap-2",children:[e.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[#F8F2F9] text-[#8B2D6C] font-medium border-l-4 border-[#8B2D6C]",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:e.jsx("circle",{cx:"10",cy:"10",r:"8"})}),"Personal Information"]}),e.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-[#F8F2F9] transition",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:e.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2"})}),"About Us"]}),e.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-[#F8F2F9] transition",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:e.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2"})}),"Terms & Conditions"]}),e.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-[#F8F2F9] transition",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:e.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2"})}),"Previous appointments"]}),e.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-[#F8F2F9] transition",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:e.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2"})}),"Privacy Policy"]}),e.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-[#F8F2F9] transition",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:e.jsx("circle",{cx:"10",cy:"10",r:"8"})}),"Report an issue"]})]}),e.jsxs("button",{onClick:f,className:"flex items-center gap-2 mt-8 text-[#E11D48] font-medium hover:underline",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"",children:e.jsx("path",{d:"M15 12l4-4m0 0l-4-4m4 4H7m6 4v1a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h6a2 2 0 012 2v1"})}),"Logout"]})]}),e.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center py-12 px-8",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[t.profilePicture?e.jsx("img",{src:t.profilePicture,alt:t.name,className:"w-20 h-20 rounded-full object-cover bg-[#F8F2F9] mb-2"}):e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-r from-[#8B2D6C] to-[#C6426E] flex items-center justify-center text-white text-3xl font-bold mb-2",children:t.name.charAt(0)}),e.jsx("div",{className:"text-2xl font-bold text-[#1A2343]",children:t.name}),e.jsxs("div",{className:"text-gray-500 text-base",children:[t.countryCode," ",t.phoneNumber]})]}),e.jsxs("form",{className:"w-full max-w-lg flex flex-col gap-5",children:[e.jsx("input",{className:"w-full  rounded-lg px-4 py-3 text-gray-700 placeholder-gray-400 border-0 focus:ring-2 focus:ring-[#8B2D6C] focus:outline-none",name:"name",value:(r==null?void 0:r.name)||"",onChange:i,placeholder:"Name*",readOnly:!l}),e.jsx("input",{className:"w-full  rounded-lg px-4 py-3 text-gray-700 placeholder-gray-400 border-0 focus:ring-2 focus:ring-[#8B2D6C] focus:outline-none",name:"email",value:(r==null?void 0:r.email)||"",onChange:i,placeholder:"Email Address*",readOnly:!l}),e.jsxs("select",{className:"w-full  rounded-lg px-4 py-3 text-gray-700 placeholder-gray-400 border-0 focus:ring-2 focus:ring-[#8B2D6C] focus:outline-none appearance-none",name:"gender",value:(r==null?void 0:r.gender)||"",onChange:i,disabled:!l,children:[e.jsx("option",{value:"",children:"Gender"}),e.jsx("option",{value:"MALE",children:"Male"}),e.jsx("option",{value:"FEMALE",children:"Female"}),e.jsx("option",{value:"OTHER",children:"Other"})]}),e.jsx("input",{className:"w-full  rounded-lg px-4 py-3 text-gray-700 placeholder-gray-400 border-0 focus:ring-2 focus:ring-[#8B2D6C] focus:outline-none",name:"phoneNumber",value:(r==null?void 0:r.phoneNumber)||"",onChange:i,placeholder:"Phone Number*",readOnly:!l}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"w-full  rounded-lg px-4 py-3 text-gray-700 placeholder-gray-400 border-0 focus:ring-2 focus:ring-[#8B2D6C] focus:outline-none pr-12",name:"dob",type:"date",value:r!=null&&r.dob?typeof r.dob=="string"?r.dob:new Date(r.dob).toISOString().split("T")[0]:"",onChange:i,placeholder:"Date of Birth*",readOnly:!l}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:e.jsxs("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"7",width:"14",height:"10",rx:"2"}),e.jsx("path",{d:"M16 3v4M4 3v4"})]})})]}),l?e.jsxs("div",{className:"flex gap-4 mt-4",children:[e.jsx("button",{type:"button",onClick:N,className:"flex-1 py-3 rounded-full bg-gradient-to-r from-[#8B2D6C] to-[#C6426E] text-white font-semibold text-lg shadow hover:opacity-90 transition",children:"Save"}),e.jsx("button",{type:"button",onClick:v,className:"flex-1 py-3 rounded-full bg-gray-200 text-gray-700 font-semibold text-lg shadow hover:bg-gray-300 transition",children:"Cancel"})]}):e.jsx("button",{type:"button",onClick:b,className:"w-full mt-4 py-3 rounded-full bg-gradient-to-r from-[#8B2D6C] to-[#C6426E] text-white font-semibold text-lg shadow hover:opacity-90 transition",children:"Edit Profile"})]})]})]})})}}const D=()=>e.jsx(F,{});export{D as default};
