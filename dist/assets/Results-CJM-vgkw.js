import{r as i,a as y,u as N,j as e,c as k}from"./index-CGTLm9hM.js";import{t as C}from"./topResultImage-CLm_SyvL.js";function E(){const[o,p]=i.useState([]),[u,g]=i.useState(null),b=y(),{userName:j}=N();i.useEffect(()=>{async function t(){const n=await k.get("/users/analytics");p(n.data.data)}t()},[]),console.log(o);const v=["Start Your Daily Mental Health Check-In","Review Your Recent Test Results","Talk to a Mental Health Expert"];return e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-8 p-2 sm:p-4 md:p-8 bg-gray-50 min-h-screen ",children:[e.jsx("div",{className:"flex-1 w-full max-w-full lg:max-w-[700px] font-['Urbanist'] flex flex-col",children:o.length===0?e.jsx("div",{children:"No results found."}):o.map(t=>{var c,x,d,h,f;let n=[{label:"Sleep",value:(c=t.normalizedScores)==null?void 0:c.Sleep},{label:"Nutrition",value:(x=t.normalizedScores)==null?void 0:x.Nutrition},{label:"PHQ-9",value:(d=t.normalizedScores)==null?void 0:d["PHQ-9"]},{label:"Emotional-H",value:(h=t.normalizedScores)==null?void 0:h["Emotional Fitness"]},{label:"GAD-7",value:(f=t.normalizedScores)==null?void 0:f["GAD-7"]}];n=n.map(s=>({...s,value:typeof s.value=="number"?s.value:0}));const w=new Date(t.updatedAt).toLocaleDateString(),m=t.testsCompleted,r=u===t.id;return e.jsxs("div",{className:"mb-4 sm:mb-6 border rounded-2xl bg-white shadow-sm",children:[e.jsxs("button",{className:"w-full flex flex-col sm:flex-row justify-between items-start sm:items-center px-4 sm:px-6 py-3 sm:py-4 text-left focus:outline-none",onClick:()=>g(r?null:t.id),children:[e.jsxs("span",{className:"font-semibold text-base sm:text-lg",children:["Cycle ",t.cycle]}),e.jsxs("span",{className:"text-gray-500 text-xs sm:text-sm mt-1 sm:mt-0",children:["Last Updated: ",w]}),e.jsx("span",{className:"ml-0 sm:ml-4 text-lg sm:text-2xl",children:r?"▲":"▼"})]}),r&&e.jsxs("div",{className:"px-2 sm:px-6 pb-4 sm:pb-6 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[e.jsxs("span",{className:"text-sm sm:text-base font-medium",children:[m," of 5 tests completed"]}),Array.from({length:5}).map((s,l)=>e.jsx("span",{className:`w-5 h-5 sm:w-6 sm:h-6 flex items-center justify-center rounded-full text-base sm:text-lg ${l<m?"bg-[#4E8041] text-white":"bg-gray-200 text-gray-400"}`,children:"✔"},l))]}),e.jsx("div",{className:"rounded-2xl p-2 sm:p-6 mb-4 sm:mb-6 min-h-[220px] sm:min-h-[400px] flex items-center justify-center overflow-x-auto",children:e.jsxs("div",{className:"w-[420px] sm:w-[700px]",children:[e.jsxs("svg",{width:"100%",height:"220",viewBox:"0 0 700 220",className:"hidden sm:block",children:[[0,20,40,60,80,100].map(s=>e.jsx("line",{x1:60,x2:660,y1:200-s*2,y2:200-s*2,stroke:"#E5E0EA",strokeWidth:1},s)),n.map((s,l)=>{let a="#4E8041";return s.value>60?a="#E74C3C":s.value>40&&(a="#F6C851"),e.jsxs("g",{children:[e.jsx("rect",{x:90+l*110,y:200-s.value*2,width:60,height:s.value*2,rx:12,fill:a}),e.jsx("text",{x:120+l*110,y:200-s.value*2-10,textAnchor:"middle",fontSize:"16",fill:"#704180",fontWeight:"bold"}),e.jsx("text",{x:120+l*110,y:220,textAnchor:"middle",fontSize:"14",fill:"#231942",fontWeight:"400",children:s.label})]},s.label)}),[0,20,40,60,80,100].map(s=>e.jsx("text",{x:50,y:200-s*2+8,fontSize:"12",fill:"#231942",textAnchor:"end",fontWeight:"600",children:s<10?`0${s}`:s},s))]}),e.jsxs("svg",{width:"100%",height:"160",viewBox:"0 0 420 160",className:"block sm:hidden",children:[[0,20,40,60,80,100].map(s=>e.jsx("line",{x1:40,x2:400,y1:140-s*1.2,y2:140-s*1.2,stroke:"#E5E0EA",strokeWidth:1},s)),n.map((s,l)=>{let a="#4E8041";return s.value>60?a="#E74C3C":s.value>40&&(a="#F6C851"),e.jsxs("g",{children:[e.jsx("rect",{x:60+l*70,y:140-s.value*1.2,width:36,height:s.value*1.2,rx:8,fill:a}),e.jsx("text",{x:78+l*70,y:140-s.value*1.2-6,textAnchor:"middle",fontSize:"10",fill:"#704180",fontWeight:"bold",children:s.value>0?Math.round(s.value):""}),e.jsx("text",{x:78+l*70,y:158,textAnchor:"middle",fontSize:"10",fill:"#231942",fontWeight:"400",children:s.label})]},s.label)}),[0,20,40,60,80,100].map(s=>e.jsx("text",{x:32,y:140-s*1.2+5,fontSize:"9",fill:"#231942",textAnchor:"end",fontWeight:"600",children:s<10?`0${s}`:s},s))]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[e.jsx("a",{href:t.reportView,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-2 rounded-full bg-gradient-to-r from-[#704180] to-[#8B2D6C] text-white font-semibold text-base shadow hover:opacity-90 transition text-center",children:"View Report"}),e.jsx("a",{href:t.reportDownload,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-2 rounded-full bg-gradient-to-r from-[#F6C851] to-[#F9D423] text-[#704180] font-semibold text-base shadow hover:opacity-90 transition text-center",children:"Download Report"})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3",children:"Recommended Courses"}),e.jsx("div",{className:"flex flex-col gap-2 sm:gap-3",children:t.courseRecommendations&&t.courseRecommendations.length>0?t.courseRecommendations.map((s,l)=>e.jsx("div",{className:"flex items-center bg-white rounded-xl shadow p-3 sm:p-4 max-w-full sm:max-w-lg border border-gray-100",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm sm:text-base mb-1",children:s.courseName}),e.jsx("div",{className:"text-gray-500 text-xs sm:text-sm mb-1 flex items-center gap-2",children:e.jsx("a",{href:s.courseLink.split(",")[0],target:"_blank",rel:"noopener noreferrer",className:"text-[#704180] font-semibold underline",children:"Go to Course"})})]})},l)):e.jsx("div",{className:"text-gray-500",children:"No course recommendations."})})]})]})]},t.id)})}),e.jsxs("div",{className:"w-full lg:w-[350px] flex flex-col gap-4 sm:gap-6 font-['Poppins'] mt-4 lg:mt-0",children:[e.jsxs("div",{className:"bg-white rounded-3xl shadow p-4 sm:p-6 flex flex-col items-center border border-[#BCBCBC]",children:[e.jsx("img",{src:C,alt:"Therapist",className:"w-36 h-20 sm:w-52 sm:h-32 object-cover rounded-xl mb-3 sm:mb-4"}),e.jsx("div",{className:"font-semibold text-base sm:text-lg mb-1 text-center",children:"Talk to a therapist?"}),e.jsx("div",{className:"text-gray-500 text-center mb-3 sm:mb-4",children:"Book your session now"}),e.jsx("button",{onClick:()=>b("/appointments"),className:"px-4 sm:px-6 py-2 rounded-full font-medium text-sm sm:text-base text-white",style:{background:"linear-gradient(89.79deg, #704180 5.07%, #8B2D6C 95.83%)"},children:"Book now"})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow p-6 sm:p-8 flex flex-col items-center border border-[#BCBCBC]",children:[e.jsxs("div",{className:"mb-3 sm:mb-4",children:[e.jsxs("svg",{width:"60",height:"60",className:"sm:hidden",children:[e.jsx("circle",{cx:"30",cy:"30",r:"26",stroke:"#E5E0EA",strokeWidth:"6",fill:"none"}),e.jsx("circle",{cx:"30",cy:"30",r:"26",stroke:"#704180",strokeWidth:"6",fill:"none",strokeDasharray:2*Math.PI*26,strokeDashoffset:2*Math.PI*26*(1-0/3),strokeLinecap:"round"}),e.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dy:".3em",fontSize:"0.9em",fill:"#704180",fontWeight:"bold",children:"0/3"})]}),e.jsxs("svg",{width:"80",height:"80",className:"hidden sm:block",children:[e.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#E5E0EA",strokeWidth:"8",fill:"none"}),e.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#704180",strokeWidth:"8",fill:"none",strokeDasharray:2*Math.PI*36,strokeDashoffset:2*Math.PI*36*(1-0/3),strokeLinecap:"round"}),e.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dy:".3em",fontSize:"1.2em",fill:"#704180",fontWeight:"bold",children:"0/3"})]})]}),e.jsxs("h3",{className:"text-base sm:text-lg font-semibold mb-1 sm:mb-2 text-center",children:["Welcome to Zenomi ,",e.jsx("span",{className:"text-[#8B2D6C]",children:j||"there"})]}),e.jsx("p",{className:"text-gray-500 text-center mb-4 sm:mb-6 text-xs sm:text-base",children:"Experience your AHA! moment by completing this simple steps"}),e.jsx("ul",{className:"w-full space-y-2 sm:space-y-3",children:v.map(t=>e.jsxs("li",{className:"flex items-center justify-between px-2 sm:px-4 py-2 rounded-lg bg-gray-100 text-gray-700 text-xs sm:text-base",children:[e.jsx("span",{children:t}),e.jsx("span",{className:"w-5 h-5 sm:w-6 sm:h-6 flex items-center justify-center rounded-full bg-white border border-gray-300 text-gray-400",children:"✔️"})]},t))})]})]})]})}const D=()=>e.jsx(E,{});export{D as default};
