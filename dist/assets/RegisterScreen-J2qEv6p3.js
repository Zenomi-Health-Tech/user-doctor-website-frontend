import{r as u,f as w,a as C,j as e,B,d as S}from"./index-1Hvr9aaJ.js";import{u as A,L as R,t as E,z as t,C as L}from"./index-tUtuSIzB.js";import{B as k,L as O}from"./BackgroundImage-Yw8SgEDY.js";import{P as D}from"./style-CawQG3XY.js";const G=t.object({name:t.string().min(1,"Name is required"),email:t.string().email("Invalid email address"),phoneNumber:t.string().min(10,"Phone number must be at least 10 digits"),gender:t.enum(["MALE","FEMALE","OTHER"]),dob:t.string().min(1,"Date of birth is required"),bloodGroup:t.enum(["A+","A-","B+","B-","AB+","AB-","O+","O-"]),referralCode:t.string().min(1,"Referral code is required")}),M=()=>{const[m,x]=u.useState(!1),{toast:i}=w(),[h,f]=u.useState("+91"),b=C(),[d,j]=u.useState(""),{register:l,handleSubmit:v,setValue:p,formState:{errors:s}}=A({resolver:E(G)}),y=(o,r)=>{if(!r.dialCode){i({title:"Error",description:"Invalid country code.",variant:"destructive"});return}const a=o.replace(r.dialCode,""),n=`+${r.dialCode}`;f(n),p("phoneNumber",a)},N=async o=>{var r,a;x(!0);try{const n=d?`Zenomi-${d}`:void 0,c={...o,countryCode:h,dob:new Date(o.dob).toISOString(),referralCode:n},g=await S.post("https://zenomi.elitceler.com/api/v1/users/register-user",c);i({title:"Success",description:"Registration successful!",variant:"default",className:"bg-green-500 text-white"}),g.status===201&&b("/login"),console.log("Success:",g.data)}catch(n){const c=((a=(r=n.response)==null?void 0:r.data)==null?void 0:a.message)||"Registration failed";i({title:"Error",description:c,variant:"destructive"})}finally{x(!1)}};return e.jsxs("form",{onSubmit:v(N),className:"w-full space-y-4 font-['Poppins']",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("input",{...l("name"),type:"text",placeholder:"Full Name",className:"w-full p-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2",style:{"--tw-ring-color":"#704180"}}),s.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.name.message})]}),e.jsxs("div",{children:[e.jsx("input",{...l("email"),type:"email",placeholder:"Email Address",className:"w-full p-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2",style:{"--tw-ring-color":"#704180"}}),s.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.email.message})]}),e.jsxs("div",{children:[e.jsx(D,{country:"in",onlyCountries:["in"],onChange:y,inputStyle:{width:"100%",height:"48px",fontSize:"16px",borderRadius:"12px",border:"1px solid #e2e8f0",backgroundColor:"#ffffff"},containerStyle:{width:"100%"},buttonStyle:{borderRadius:"12px 0 0 12px",border:"1px solid #e2e8f0"}}),s.phoneNumber&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.phoneNumber.message})]}),e.jsxs("div",{children:[e.jsxs("select",{...l("gender"),className:"w-full p-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2",style:{"--tw-ring-color":"#704180"},children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"MALE",children:"Male"}),e.jsx("option",{value:"FEMALE",children:"Female"}),e.jsx("option",{value:"OTHER",children:"Other"})]}),s.gender&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.gender.message})]}),e.jsxs("div",{children:[e.jsx("input",{...l("dob"),type:"date",className:"w-full p-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2",style:{"--tw-ring-color":"#704180"}}),s.dob&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.dob.message})]}),e.jsxs("div",{children:[e.jsxs("select",{...l("bloodGroup"),className:"w-full p-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2",style:{"--tw-ring-color":"#704180"},children:[e.jsx("option",{value:"",children:"Select Blood Group"}),e.jsx("option",{value:"A+",children:"A+"}),e.jsx("option",{value:"A-",children:"A-"}),e.jsx("option",{value:"B+",children:"B+"}),e.jsx("option",{value:"B-",children:"B-"}),e.jsx("option",{value:"AB+",children:"AB+"}),e.jsx("option",{value:"AB-",children:"AB-"}),e.jsx("option",{value:"O+",children:"O+"}),e.jsx("option",{value:"O-",children:"O-"})]}),s.bloodGroup&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.bloodGroup.message})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"bg-gray-100 px-3 py-3 rounded-l-xl border border-gray-200 border-r-0 text-gray-500 select-none",children:"Zenomi-"}),e.jsx("input",{type:"text",maxLength:4,inputMode:"numeric",className:"w-full p-3 rounded-r-xl border border-gray-200 focus:outline-none focus:ring-2",placeholder:"1234",value:d,onChange:o=>{const r=o.target.value.replace(/[^0-9]/g,"");j(r),p("referralCode",r,{shouldValidate:!0})}})]}),s.referralCode&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.referralCode.message})]})]}),e.jsx(B,{type:"submit",disabled:m,className:"w-full h-12 text-white rounded-xl transition-colors font-medium",style:{background:"linear-gradient(89.79deg, #704180 5.07%, #8B2D6C 95.83%)"},children:m?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(R,{className:"animate-spin h-5 w-5 mr-2"}),e.jsx("span",{children:"Registering..."})]}):"Register"})]})};function q(){return e.jsxs("div",{className:"flex items-center justify-center min-h-screen relative",style:{backgroundImage:`url(${k})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(89.79deg, #704180 5.07%, #8B2D6C 95.83%)",opacity:.9}}),e.jsx("div",{className:"container mx-auto px-4 z-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-center",children:[e.jsx("div",{className:"w-full lg:w-1/2 text-white p-8 rounded-3xl",style:{background:"linear-gradient(89.79deg, #704180 5.07%, #8B2D6C 95.83%)"},children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("img",{src:O,alt:"Logo",className:"w-[160px] h-[163px] mb-8",loading:"lazy"}),e.jsx("h1",{className:"text-4xl font-semibold mb-4",children:"Welcome!"}),e.jsx("p",{className:"text-lg opacity-90",children:"Let's take your first step toward better mental and physical wellness."})]})}),e.jsx("div",{className:"w-full lg:w-1/2",children:e.jsx(L,{className:"bg-white/95 backdrop-blur-sm rounded-3xl p-8 shadow-xl",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("h2",{className:"text-2xl font-semibold mb-2",children:["Register as ",e.jsx("span",{style:{color:"#704180"},children:"User"})]}),e.jsx("div",{className:"w-full mt-6",children:e.jsx(M,{})})]})})})]})})]})}export{q as default};
