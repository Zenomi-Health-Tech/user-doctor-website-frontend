import{r as i,u as F,b as w,j as e,a as p}from"./index-eotYzDwS.js";import{a as m}from"./api-d8MCFFl8.js";import"./index-DW_MHI2K.js";function C(){const[n,x]=i.useState(null),[b,u]=i.useState(!0),{isDoctor:o}=F(),j=w(),[r,h]=i.useState(!1),[t,f]=i.useState(null);i.useEffect(()=>{(async()=>{u(!0);const l=p.get("auth");let a="";if(l)try{a=JSON.parse(l).token}catch{a=""}if(o){const c=await m.get("/doctors/profile",{headers:{Authorization:`Bearer ${a}`}});x(c.data.data)}else{const c=await m.get("/users/profile",{headers:{Authorization:`Bearer ${a}`}});x(c.data.data)}u(!1)})()},[]),i.useEffect(()=>{n&&!o&&f(n)},[n,o]);const g=()=>{p.remove("auth"),j("/login")},N=()=>h(!0),v=()=>h(!1),d=s=>{f(l=>l&&{...l,[s.target.name]:s.target.value})},y=async()=>{try{let s=t;t&&t.dob&&typeof t.dob!="string"&&(s={...t,dob:new Date(t.dob).toISOString().split("T")[0]}),await m.put("/users/profile",s),x(s),h(!1)}catch{}};if(b)return e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-[#FAF8FB]",children:e.jsx("div",{className:"text-xl",children:"Loading profile..."})});if(!n)return e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-[#FAF8FB]",children:e.jsx("div",{className:"text-xl text-red-500",children:"Profile not found."})});if(o){const s=n;return e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 p-8 bg-[#FAF8FB] min-h-screen font-['Poppins']",children:[e.jsxs("div",{className:"flex flex-col items-center bg-white rounded-2xl shadow-md p-6 min-w-[300px]",children:[e.jsx("img",{src:s.profilePicture,alt:s.name,className:"w-40 h-40 rounded-full object-cover border-4 border-[#8B2D6C] mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-[#1A2343] mb-1",children:s.name}),e.jsx("span",{className:"text-[#8B2D6C] font-semibold",children:s.specialization}),e.jsx("span",{className:"text-gray-500",children:s.workLocation}),e.jsx("span",{className:"mt-2 px-3 py-1 rounded-full bg-green-100 text-green-700 text-xs font-semibold",children:s.profileStatus}),e.jsx("button",{onClick:g,className:"px-4 py-2 mt-10 bg-gradient-to-r from-[#8B2D6C] to-[#C6426E] text-white rounded-full font-semibold shadow",children:"Logout"})]}),e.jsxs("div",{className:"flex-1 bg-white rounded-2xl shadow-md p-8",children:[e.jsx("h1",{className:"text-3xl font-semibold mb-6 text-gray-800",children:"Profile Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Email:"})," ",s.email]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Phone:"})," ",s.countryCode," ",s.phoneNumber]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Gender:"})," ",s.gender]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Experience:"})," ",s.experience," years"]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Consultation Fee:"})," â‚¹",s.consultationFee]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Medical License #:"})," ",s.medicalLicenseNumber]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Referrals Generated:"})," ",s.freeReferralsGenerated]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Joined:"})," ",new Date(s.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Qualification:"})," ",s.qualification]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Additional Qualifications:"}),e.jsx("ul",{className:"list-disc ml-6",children:s.additionalQualifications.filter(Boolean).map((l,a)=>e.jsx("li",{children:l},a))})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Photo:"})," ",e.jsx("a",{href:s.photoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-[#8B2D6C] underline",children:"View"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"License:"})," ",e.jsx("a",{href:s.licenseUrl,target:"_blank",rel:"noopener noreferrer",className:"text-[#8B2D6C] underline",children:"View"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Govt ID:"})," ",e.jsx("a",{href:s.govtIdUrl,target:"_blank",rel:"noopener noreferrer",className:"text-[#8B2D6C] underline",children:"View"})]})]})]})]})]})}else if(!o){const s=n;return e.jsx("div",{className:"min-h-screen bg-[#FAF8FB] flex items-center justify-center font-['Poppins']",children:e.jsxs("div",{className:"w-full max-w-5xl min-h-[80vh] bg-white rounded-2xl shadow-lg flex overflow-hidden border border-[#F2EAF6]",children:[e.jsxs("aside",{className:"w-72 bg-[#FAF8FB] border-r border-[#F2EAF6] flex flex-col py-8 px-6",children:[e.jsx("div",{className:"text-xl font-semibold mb-8",children:"My profile"}),e.jsxs("nav",{className:"flex-1 flex flex-col gap-2",children:[e.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[#F8F2F9] text-[#8B2D6C] font-medium border-l-4 border-[#8B2D6C]",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:e.jsx("circle",{cx:"10",cy:"10",r:"8"})}),"Personal Information"]}),e.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-[#F8F2F9] transition",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:e.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2"})}),"About Us"]}),e.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-[#F8F2F9] transition",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:e.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2"})}),"Terms & Conditions"]}),e.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-[#F8F2F9] transition",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:e.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2"})}),"Previous appointments"]}),e.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-[#F8F2F9] transition",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:e.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2"})}),"Privacy Policy"]}),e.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-[#F8F2F9] transition",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mr-2",children:e.jsx("circle",{cx:"10",cy:"10",r:"8"})}),"Report an issue"]})]}),e.jsxs("button",{onClick:g,className:"flex items-center gap-2 mt-8 text-[#E11D48] font-medium hover:underline",children:[e.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"",children:e.jsx("path",{d:"M15 12l4-4m0 0l-4-4m4 4H7m6 4v1a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h6a2 2 0 012 2v1"})}),"Logout"]})]}),e.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center py-12 px-8",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[s.profilePicture?e.jsx("img",{src:s.profilePicture,alt:s.name,className:"w-20 h-20 rounded-full object-cover bg-[#F8F2F9] mb-2"}):e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-r from-[#8B2D6C] to-[#C6426E] flex items-center justify-center text-white text-3xl font-bold mb-2",children:s.name.charAt(0)}),e.jsx("div",{className:"text-2xl font-bold text-[#1A2343]",children:s.name}),e.jsxs("div",{className:"text-gray-500 text-base",children:[s.countryCode," ",s.phoneNumber]})]}),e.jsxs("form",{className:"w-full max-w-lg flex flex-col gap-5",children:[e.jsx("input",{className:"w-full bg-[#FAF8FB] rounded-lg px-4 py-3 text-gray-700 placeholder-gray-400 border-0 focus:ring-2 focus:ring-[#8B2D6C] focus:outline-none",name:"name",value:(t==null?void 0:t.name)||"",onChange:d,placeholder:"Name*",readOnly:!r}),e.jsx("input",{className:"w-full bg-[#FAF8FB] rounded-lg px-4 py-3 text-gray-700 placeholder-gray-400 border-0 focus:ring-2 focus:ring-[#8B2D6C] focus:outline-none",name:"email",value:(t==null?void 0:t.email)||"",onChange:d,placeholder:"Email Address*",readOnly:!r}),e.jsxs("select",{className:"w-full bg-[#FAF8FB] rounded-lg px-4 py-3 text-gray-700 placeholder-gray-400 border-0 focus:ring-2 focus:ring-[#8B2D6C] focus:outline-none appearance-none",name:"gender",value:(t==null?void 0:t.gender)||"",onChange:d,disabled:!r,children:[e.jsx("option",{value:"",children:"Gender"}),e.jsx("option",{value:"MALE",children:"Male"}),e.jsx("option",{value:"FEMALE",children:"Female"}),e.jsx("option",{value:"OTHER",children:"Other"})]}),e.jsx("input",{className:"w-full bg-[#FAF8FB] rounded-lg px-4 py-3 text-gray-700 placeholder-gray-400 border-0 focus:ring-2 focus:ring-[#8B2D6C] focus:outline-none",name:"phoneNumber",value:(t==null?void 0:t.phoneNumber)||"",onChange:d,placeholder:"Phone Number*",readOnly:!r}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"w-full bg-[#FAF8FB] rounded-lg px-4 py-3 text-gray-700 placeholder-gray-400 border-0 focus:ring-2 focus:ring-[#8B2D6C] focus:outline-none pr-12",name:"dob",type:"date",value:t!=null&&t.dob?typeof t.dob=="string"?t.dob:new Date(t.dob).toISOString().split("T")[0]:"",onChange:d,placeholder:"Date of Birth*",readOnly:!r}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:e.jsxs("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"7",width:"14",height:"10",rx:"2"}),e.jsx("path",{d:"M16 3v4M4 3v4"})]})})]}),r?e.jsxs("div",{className:"flex gap-4 mt-4",children:[e.jsx("button",{type:"button",onClick:y,className:"flex-1 py-3 rounded-full bg-gradient-to-r from-[#8B2D6C] to-[#C6426E] text-white font-semibold text-lg shadow hover:opacity-90 transition",children:"Save"}),e.jsx("button",{type:"button",onClick:v,className:"flex-1 py-3 rounded-full bg-gray-200 text-gray-700 font-semibold text-lg shadow hover:bg-gray-300 transition",children:"Cancel"})]}):e.jsx("button",{type:"button",onClick:N,className:"w-full mt-4 py-3 rounded-full bg-gradient-to-r from-[#8B2D6C] to-[#C6426E] text-white font-semibold text-lg shadow hover:opacity-90 transition",children:"Edit Profile"})]})]})]})})}}const A=()=>e.jsx(C,{});export{A as default};
