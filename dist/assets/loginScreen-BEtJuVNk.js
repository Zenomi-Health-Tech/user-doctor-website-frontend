import{f,r as g,j as e,B as j,a as y,L as N}from"./index-QGCus7VO.js";import{u as v,L as P,t as C,z as m,C as S,a as w}from"./index-qF_qvIpr.js";import{u as a,h as k,B}from"./bgLogo-BPsEW0ex.js";import{P as E}from"./style-Ch2dLARZ.js";const L=m.object({phoneNumber:m.string().min(10,"Phone number must be at least 10 digits").max(10,"Phone number must be exactly 10 digits")}),O=({onSuccess:o})=>{const{handleSubmit:r,setValue:i,formState:{errors:c}}=v({resolver:C(L)}),p=a(s=>s.requestOtp),l=a(s=>s.loading),d=a(s=>s.updatePhoneDetails),{toast:n}=f(),x=async()=>{try{await p(),n({title:"Success",description:"OTP sent successfully",variant:"default",className:"bg-green-500 text-white"}),o()}catch(s){const t=k(s);n({title:"Error",description:t,variant:"destructive"})}},h=g.useCallback((s,t)=>{if(!t.dialCode){n({title:"Error",description:"Invalid country code.",variant:"destructive"});return}const u=s.replace(t.dialCode,""),b=`+${t.dialCode}`;d(b,u),i("phoneNumber",u)},[i,d,n]);return e.jsxs("form",{onSubmit:r(x),className:"w-full space-y-6 font-['Poppins']",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-2 font-['Poppins']",children:"Sign in to your Account"}),e.jsx("p",{className:"text-gray-600 font-['Poppins']",children:"Enter your mobile number to get started"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(E,{country:"in",onlyCountries:["in"],onChange:h,inputStyle:{width:"100%",height:"48px",fontSize:"16px",borderRadius:"12px",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",fontFamily:"Poppins, sans-serif"},containerStyle:{width:"100%"},buttonStyle:{borderRadius:"12px 0 0 12px",border:"1px solid #e2e8f0",fontFamily:"Poppins, sans-serif"}}),c.phoneNumber&&e.jsx("p",{className:"text-red-500 text-sm text-center font-['Poppins']",children:c.phoneNumber.message})]}),e.jsx(j,{type:"submit",disabled:l,className:"w-full cursor-pointer h-12 text-white rounded-xl transition-colors font-['Poppins']",style:{background:"linear-gradient(89.79deg, #704180 5.07%, #8B2D6C 95.83%)"},children:l?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(P,{className:"animate-spin h-5 w-5 mr-2"}),e.jsx("span",{className:"font-['Poppins']",children:"Sending OTP..."})]}):"Send OTP"})]})},R=()=>{const o=y(),r=()=>{console.log("OTP sent successfully!"),o("/login/otp")};return e.jsxs("div",{className:"flex items-center justify-center min-h-screen relative",style:{backgroundImage:`linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url(${B})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0"}),e.jsx(S,{className:"bg-white/95 backdrop-blur-sm rounded-3xl w-[439px] h-[400px] shadow-xl z-10",children:e.jsxs("div",{className:"w-96 mt-10 mx-auto flex flex-col items-center",children:[e.jsx("div",{children:e.jsx(O,{onSuccess:r})}),e.jsxs(w,{className:"mt-4 font-light text-gray-700",children:["Don't have an account?",e.jsx(N,{to:"/doctor/register",children:e.jsx("span",{className:"text-[#8B2D6C] ml-1 hover:text-purple-700 transition-colors",children:"Create one"})})]})]})})]})};export{R as default};
